# üîó YADRO URL Alias Service

**YADRO\_url\_alias\_service** ‚Äî —ç—Ç–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è —Å—Å—ã–ª–æ–∫, —Å–æ–∑–¥–∞–Ω–Ω—ã–π –Ω–∞ –±–∞–∑–µ **FastAPI**, —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **PostgreSQL**, **SQLAlchemy**, **Alembic**, **Uvicorn**, –∏ —Å–∏—Å—Ç–µ–º–æ–π –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–¥–∞—á –Ω–∞ **APScheduler**. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é, —Å–±–æ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –∏ –∞–≤—Ç–æ-–¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—é —Å—Å—ã–ª–æ–∫ –ø–æ –≤—Ä–µ–º–µ–Ω–∏.

---

## üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

* ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ—Ä–æ—Ç–∫–∏—Ö —Å—Å—ã–ª–æ–∫
* üîê JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
* üìä –ü–æ–¥—Å—á—ë—Ç –∫–ª–∏–∫–æ–≤ ( –∑–∞ —á–∞—Å/–¥–µ–Ω—å )
* üóìÔ∏è –ü–ª–∞–Ω–æ–≤–∞—è –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö —Å—Å—ã–ª–æ–∫ –∏ –æ–±–Ω—É–ª–µ–Ω–∏–µ –∫–ª–∏–∫–æ–≤
* üß† –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Å—Ç–µ–∫ (FastAPI + Async SQLAlchemy)
* ‚ú® –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ HTTP-–∫–ª–∏–µ–Ω—Ç—ã (Insomnia/Postman)

---

## üéûÔ∏è –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç         | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è   |
| ----------------- | ------------ |
| –Ø–∑—ã–∫              | Python 3.10+ |
| Web Framework     | FastAPI      |
| –ë–î                | PostgreSQL   |
| ORM               | SQLAlchemy   |
| –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è    | JWT (OAuth2) |
| –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á | APScheduler  |
| –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ       | Loguru       |
| –í–∞–ª–∏–¥–∞—Ü–∏—è         | Pydantic     |
| –î–æ–∫–µ—Ä–∏–∑–∞—Ü–∏—è       | Docker       |

---

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### üîß –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

```bash
git clone git@github.com:Rxyalxrd/YADRO_url_alias_service.git
cd YADRO_url_alias_service
```

### ‚öôÔ∏è .env

–°–æ–∑–¥–∞—Ç—å –≤ `src` `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –µ–≥–æ –ø–æ –ø—Ä–∏–º–µ—Ä—É `.env.example`:

```bash
################
# App Settings #
################

APP_HOST=127.0.0.1                                                     # –•–æ—Å—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
APP_PORT=8000                                                          # –ü–æ—Ä—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
APP_TITLE=FastAPI URL Shortener                                        # –ù–∞–∑–≤–∞–Ω–∏–µ –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
APP_DESCRIPTION=–°–µ—Ä–≤–∏—Å –¥–ª—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è URL —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π # –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

##############
# PostgreSQL #
##############

POSTGRES_USER=postgres                                                 # –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
POSTGRES_PASSWORD=password                                             # –ü–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
POSTGRES_HOST=localhost                                                # –•–æ—Å—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, db –∏–ª–∏ localhost)
POSTGRES_DB=shortener_db                                               # –ù–∞–∑–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
POSTGRES_PORT=5432                                                     # –ü–æ—Ä—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL

########
# HASH #
########

HASH_SECRET_KEY=supersecretkey                                         # –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤
ALGORITHM=HS256                                                        # –ê–ª–≥–æ—Ä–∏—Ç–º —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è JWT
ACCESS_TOKEN_EXPIRE_MINUTES=30                                         # –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Ç–æ–∫–µ–Ω–∞ –≤ –º–∏–Ω—É—Ç–∞—Ö
```

---

### üí£ –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker

#### 1. –°–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

–ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞ (–≥–¥–µ `docker-compose.yml`) –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å:

```bash
docker-compose up --build
```

#### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É:

```
http://localhost:8000/docs
```

---

### üíª –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å`Poetry`
2. –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ë–î
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
   ```bash
   cd src
   make install
   make migrate
   ```
4. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

   ```bash
   make run
   ```

---

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
app/
‚îú‚îÄ‚îÄ infra
‚îî‚îÄ‚îÄ src
    ‚îú‚îÄ‚îÄ alembic
    ‚îÇ   ‚îî‚îÄ‚îÄ versions
    ‚îî‚îÄ‚îÄ app
        ‚îú‚îÄ‚îÄ api                        # API –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        ‚îÇ   ‚îî‚îÄ‚îÄ v1
        ‚îú‚îÄ‚îÄ auth                       # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –ª–æ–≥–∏–Ω, —Ç–æ–∫–µ–Ω—ã
        ‚îÇ   ‚îú‚îÄ‚îÄ dependencies
        ‚îÇ   ‚îî‚îÄ‚îÄ security
        ‚îú‚îÄ‚îÄ core                       # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –æ–±—â–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
        ‚îú‚îÄ‚îÄ dao                        # –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –ë–î
        ‚îú‚îÄ‚îÄ models                     # SQLAlchemy ORM –º–æ–¥–µ–ª–∏
        ‚îú‚îÄ‚îÄ schemas                    # Pydantic-—Å—Ö–µ–º—ã –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
        ‚îú‚îÄ‚îÄ tasks                      # –ü–ª–∞–Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞ –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Å—Å—ã–ª–æ–∫
        ‚îî‚îÄ‚îÄ url                        # –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏, –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è —Å—Å—ã–ª–æ–∫
```

---

## üìò –ê–≤—Ç–æ—Ä

* GitHub: [Rxyalxrd](https://github.com/Rxyalxrd)

---
